/* ======= Reset & Base ======= */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; font-family: Inter, ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: #0b1020; color: #e6eef8; overflow-x: hidden; overflow-y: auto;
}

/* ======= Custom Scrollbar ======= */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(124, 92, 255, 0.6), rgba(124, 92, 255, 0.4));
  border-radius: 10px;
  border: 2px solid rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(124, 92, 255, 0.8), rgba(124, 92, 255, 0.6));
  border-color: rgba(124, 92, 255, 0.3);
}

::-webkit-scrollbar-thumb:active {
  background: linear-gradient(180deg, rgba(124, 92, 255, 0.9), rgba(124, 92, 255, 0.7));
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(124, 92, 255, 0.5) rgba(0, 0, 0, 0.2);
}
:root{
  --bg:#0b1020;          /* main background */
  --panel:#0e1530;       /* panel background */
  --muted:#9db1cf;
  --line: rgba(255,255,255,0.06);
  --brand:#6c5cff;       /* purple accents */
  --brand-2:#39e0b6;     /* teal accents */
  --danger:#ff5c7a; --success:#22c55e; --warning:#f59e0b;
}
.app { display: grid; grid-template-columns: 280px 1fr 340px; grid-template-rows: 56px 1fr; height: 100vh; }

/* ======= Topbar ======= */
.topbar { grid-column: 1 / -1; grid-row: 1; display:flex; align-items:center; justify-content:space-between; padding: 10px 14px; background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0)); border-bottom: 1px solid var(--line); }
.topbar .left { display:flex; gap:12px; align-items:center; }
.brand { display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px; }
.brand .dot{ width:10px; height:10px; border-radius:999px; background: var(--brand-2); box-shadow:0 0 10px rgba(40,224,166,0.5); }
.demo-pill { border:1px solid var(--line); padding:4px 8px; border-radius:999px; font-size:12px; color:#b8c6dd; background: rgba(255,255,255,0.03); }
.search { display:flex; align-items:center; gap:8px; padding:6px 10px; background: #0c1733; border:1px solid var(--line); border-radius:8px; width: 380px; }
.search input { outline:none; border:none; background:transparent; color:#dbe6fb; width:100%; font-size:14px; }
.topbar .right { display:flex; align-items:center; gap:10px; }
.sync { display:flex; gap:8px; align-items:center; font-size:12px; color:#a7b9d6; padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:rgba(255,255,255,0.02) }
.btn { border:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.12)); color:#e6eef8; padding:8px 12px; border-radius:10px; font-weight:600; font-size:14px; cursor:pointer; }
.btn.primary{ background: linear-gradient(180deg, rgba(124,92,255,0.22), rgba(124,92,255,0.08)); border-color: rgba(124,92,255,0.4); }
.btn.ghost{ background: transparent; }
.btn:disabled{ opacity:.55; cursor:not-allowed; }

/* ======= Sidebar (left) ======= */
.sidebar { grid-column:1; grid-row:2; background: radial-gradient(1200px 1200px at -20% -20%, rgba(124,92,255,0.08), transparent 60%), #0d1430; border-right:1px solid var(--line); display:flex; flex-direction:column; overflow-y: auto; overflow-x: hidden; }
.nav { padding: 12px 10px; display:flex; flex-direction:column; gap:4px; }
.section-label{ color:#aab8d6; margin: 14px 10px 6px; font-size:12px; text-transform:uppercase; letter-spacing:.12em; }
.item { display:flex; align-items:center; gap:10px; padding:10px 10px; border-radius:10px; color:#d6e0f4; cursor:pointer; }
.item:hover{ background: rgba(255,255,255,0.04); }
.item.active{ background: linear-gradient(180deg, rgba(124,92,255,0.18), rgba(124,92,255,0.06)); border: 1px solid rgba(124,92,255,0.3); }
.item .badge { margin-left:auto; font-size:12px; color:#a6b7d2; background: rgba(255,255,255,0.04); padding:2px 8px; border-radius:999px; border:1px solid var(--line); }
.accounts{ margin-top: 8px; display:flex; flex-direction:column; gap:6px; padding: 0 10px 14px; }
.acc{ display:flex; gap:10px; align-items:center; padding:10px; border-radius:10px; border:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12)); cursor:pointer; }
.acc:hover{ background: rgba(124,92,255,0.06); border-color: rgba(124,92,255,0.3); }
.acc .meta{ display:flex; flex-direction:column; }
.acc .name{ font-size:14px; font-weight:600; }
.acc .sub{ font-size:12px; color:#a9b8d3; }
.sidebar .foot{ margin-top:auto; padding:10px; display:flex; gap:8px; }

/* ======= Main (center) ======= */
.main { grid-column:2; grid-row:2; display:grid; grid-template-rows: auto 1fr; overflow-y: auto; overflow-x: hidden; }
.header { display:grid; grid-template-columns: 1.2fr .8fr; gap:12px; padding:12px 12px 8px; border-bottom:1px solid var(--line); }
.card { background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.12)); border:1px solid var(--line); border-radius:14px; padding:14px; }
.portfolio{ display:flex; gap:16px; align-items:stretch; }
.big-number{ font-size:28px; font-weight:800; letter-spacing:.3px; }
.muted{ color: var(--muted); }
.spark { flex:1; height:126px; border-radius:10px; background: linear-gradient(180deg, rgba(124,92,255,0.08), rgba(124,92,255,0.02)); border:1px dashed rgba(124,92,255,0.25); position:relative; overflow:hidden; }
.spark svg{ position:absolute; inset: 0; }
.quick{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.chip{ border:1px solid var(--line); border-radius:999px; padding:8px 10px; font-size:12px; color:#cfe0ff; background:rgba(255,255,255,0.03); cursor:pointer; }
.chip:hover{ background: rgba(124,92,255,0.1); border-color: rgba(124,92,255,0.35); }
.summary { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin-top:8px; }
.kpi{ background: linear-gradient(180deg, rgba(40,224,166,0.10), rgba(40,224,166,0.03)); border:1px solid rgba(40,224,166,0.25); border-radius:12px; padding:12px; }
.kpi .v{ font-weight:700; font-size:16px; }

.content { display:grid; grid-template-columns: 1.2fr; gap:12px; padding:12px; overflow-y: auto; overflow-x: hidden; }
.tabs{ display:flex; align-items: center; gap:12px; margin-bottom:8px; }
.tab{ padding:6px 10px; border-radius:999px; border:1px solid var(--line); font-size:12px; color:#cfe0ff; cursor:pointer; }
.tab.active{ background: rgba(124,92,255,0.18); border-color: rgba(124,92,255,0.3); }
table{ width:100%; border-collapse: collapse; }
th, td{ text-align:left; font-size:14px; padding:10px 8px; border-bottom:1px solid var(--line); }
th{ font-size:12px; text-transform:uppercase; color:#9cb2d9; letter-spacing:.12em; }
tr:hover td{ background: rgba(255,255,255,0.03); }
.pill{ display:inline-flex; align-items:center; gap:6px; border:1px solid var(--line); padding:2px 8px; border-radius:999px; font-size:12px; }
.pill.buy{ color:#7ef2c9; border-color:rgba(40,224,166,0.28); background:rgba(40,224,166,0.08); }
.pill.sell{ color:#ff93a5; border-color:rgba(255,92,122,0.28); background:rgba(255,92,122,0.08); }

/* ======= Right rail: device manager ======= */
.rail { grid-column:3; grid-row:2; border-left:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0)); display:flex; flex-direction:column; overflow-y: auto; overflow-x: hidden; }
.rail .card{ margin:12px; }
.row{ display:flex; gap:10px; align-items:center; }
.row .v{ margin-left:auto; font-weight:700; }
.chips{ display:flex; gap:6px; flex-wrap:wrap; }
.chip2{ border:1px solid var(--line); border-radius:8px; padding:6px 8px; font-size:12px; color:#cfe0ff; background:rgba(255,255,255,0.03); }
.progress{ height:8px; background:rgba(255,255,255,0.06); border-radius:999px; overflow:hidden; }
.progress > i{ display:block; height:100%; width:58%; background:linear-gradient(90deg, var(--brand), var(--brand-2)); }

/* ======= Modals ======= */
.modal-backdrop{ position:fixed; inset:0; background: rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:40; }
.modal-backdrop.show{ display:flex; }
.modal { width: 620px; max-width: calc(100vw - 28px); background: #0f1738; border:1px solid var(--line); border-radius:14px; padding:14px; box-shadow: 0 20px 70px rgba(0,0,0,0.6); }
.modal h3{ margin:0 0 10px 0; }
.form{ display:grid; gap:10px; }
.row2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.field{ display:grid; gap:6px; }
.field label{ font-size:12px; color:#9bb0d6; }
.input, select, textarea{ background:#0b1535; border:1px solid var(--line); border-radius:10px; padding:10px; color:#e6eef8; }
.actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:10px; }
.qr{ width:180px; height:180px; border:1px solid var(--line); border-radius:10px; display:grid; place-items:center; background: #0b1530; }

/* ======= Toast ======= */
.toast{ position: fixed; right: 14px; bottom: 14px; display:flex; gap:10px; align-items:center; background:#0f1838; border:1px solid var(--line); color:#cfe0ff; padding:10px 12px; border-radius:12px; box-shadow: 0 10px 40px rgba(0,0,0,0.4); opacity:0; transform: translateY(10px); transition: all .3s ease; z-index:50; }
.toast.show{ opacity:1; transform: translateY(0); }

/* ======= Responsive ======= */
@media (max-width: 1280px){ .app{ grid-template-columns: 260px 1fr; } .rail{ display:none; } }
@media (max-width: 1040px){ .header{ grid-template-columns: 1fr; } .content{ grid-template-columns: 1fr; } .search{ width: 240px; } }
@media (max-width: 760px){ .app { grid-template-columns: 0 1fr; } .sidebar{ display:none; } }
